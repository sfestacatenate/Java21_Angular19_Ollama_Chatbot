<div class="max-w-xl mx-auto mt-12 p-6 bg-white rounded shadow">
  <h1 class="text-2xl font-bold mb-4">{{ 'title' | translate }}</h1>

  <div class="mb-4">
    <label for="language" class="block mb-1 font-medium">
      {{ 'selectLanguage' | translate }}:
    </label>
    <select
      id="language"
      [(ngModel)]="language"
      (change)="onLanguageChange()"
      class="border px-3 py-2 rounded w-full"
    >
      <option value="en">{{ 'english' | translate }}</option>
      <option value="it">{{ 'italian' | translate }}</option>
    </select>
  </div>

  <div class="space-y-4 max-h-[400px] overflow-y-auto mb-4">
    <div
      *ngFor="let msg of messages"
      class="p-3 rounded"
      [ngClass]="msg.role === 'user' ? 'bg-blue-100 text-right' : 'bg-gray-100 text-left'"
    >
      <p>
        <strong>{{ msg.role === 'user' ? ('you' | translate) : ('assistant' | translate) }}:</strong>
        {{ msg.content }}
      </p>
    </div>
  </div>

  <form (submit)="askQuestion($event)" class="flex gap-2">
    <input
      type="text"
      [(ngModel)]="question"
      name="question"
      [placeholder]="'questionInput' | translate"
      class="flex-1 px-4 py-2 border rounded"
    />
    <button
      type="submit"
      class="bg-blue-600 text-white px-4 py-2 rounded"
      [disabled]="loading"
    >
      {{ loading ? '...' : ('sendButton' | translate) }}
    </button>
  </form>
</div>
